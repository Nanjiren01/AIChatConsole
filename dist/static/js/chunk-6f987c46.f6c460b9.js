(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f987c46"],{3682:function(e,t,l){"use strict";l("b380")},"618b":function(e,t,l){},"757a":function(e,t,l){"use strict";l("618b")},"7b80":function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"page-container"},[l("ai-table",{attrs:{"table-actions":e.tableActions,"table-columns":e.tableColumns,"table-data":e.tableData,"table-action-column":e.tableActionColumn,pagination:e.pagination},on:{refresh:e.handleRefresh},scopedSlots:e._u([{key:"topActions",fn:function(){return[l("el-button",{attrs:{type:"primary",icon:"el-icon-plus",disabled:""},on:{click:e.handleCreate}},[e._v("新建")])]},proxy:!0},{key:"rowActions",fn:function(t){return[l("el-button",{attrs:{icon:"el-icon-edit"},on:{click:function(l){return l.stopPropagation(),e.handleEdit(t.row)}}},[e._v("查看")]),l("el-button",{attrs:{type:1==t.row.state?"danger":"success",plain:"",icon:"el-icon-disabled",disalbed:e.loading},on:{click:function(l){return l.stopPropagation(),e.toggleEnable(t.row)}}},[e._v(" "+e._s(1==t.row.state?"禁用":"启用")+" ")])]}},{key:"levelId",fn:function(t){return[l("el-tag",[e._v(e._s(e.getLevelText(t.row.levelId)))])]}},{key:"state",fn:function(t){return[1==t.row.state?l("el-tag",{attrs:{type:"success"}},[e._v("启用")]):l("el-tag",{attrs:{type:"danger"}},[e._v("停用")])]}}])}),l("edit",{attrs:{show:e.showEdit,model:e.editModel},on:{close:e.handleCloseEdit,changed:e.handleChanged}})],1)},n=[],o=(l("d81d"),l("b0c0"),l("d3b7"),l("f4f7")),i=l("b775");function s(e){return Object(i["a"])({url:"/aiModels",method:"get",params:e})}function r(e){return Object(i["a"])({url:"/aiModels",method:"put",data:e})}var d=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-drawer",{attrs:{title:e.title,size:"60%",visible:e.show,"before-close":e.handleClose}},[l("div",{staticStyle:{padding:"20px"}},[l("el-form",{ref:"form",staticStyle:{"padding-right":"180px"},attrs:{"label-width":"260px"}},[l("el-form-item",{attrs:{label:"平台"}},[l("el-select",{attrs:{disabled:""},model:{value:e.model.platformId,callback:function(t){e.$set(e.model,"platformId",t)},expression:"model.platformId"}},[l("el-option",{attrs:{value:1,label:"OpenAI"}})],1)],1),l("el-form-item",{attrs:{label:"名称"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),l("el-form-item",{attrs:{label:"path"}},[l("el-input",{model:{value:e.model.path,callback:function(t){e.$set(e.model,"path",t)},expression:"model.path"}})],1),l("el-form-item",{attrs:{label:"状态"}},[1==e.model.state?l("el-tag",{attrs:{type:"success"}},[e._v("正常")]):l("el-tag",{attrs:{type:"danger"}},[e._v("停用")])],1),l("el-form-item",{attrs:{label:"计费方式"}},[l("el-select",{attrs:{disabled:""},model:{value:e.model.levelId,callback:function(t){e.$set(e.model,"levelId",t)},expression:"model.levelId"}},[l("el-option",{attrs:{value:1,label:"普通聊天（GPT3.5）"}}),l("el-option",{attrs:{value:2,label:"高级聊天（GPT4）"}}),l("el-option",{attrs:{value:3,label:"tokens"}}),l("el-option",{attrs:{value:4,label:"绘画"}})],1)],1),l("el-form-item",{attrs:{label:"创建时间"}},[l("el-input",{attrs:{disabled:""},model:{value:e.model.createTime,callback:function(t){e.$set(e.model,"createTime",t)},expression:"model.createTime"}})],1),l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:e.handleSave}},[e._v(" "+e._s(e.loading?"保存中……":"保 存")+" ")])],1)],1)],1)])},c=[],u={name:"MemberDetail",components:{},props:{model:{type:Object,default:function(){return[]}},show:{type:Boolean,default:!1}},data:function(){return{loading:!1}},computed:{title:function(){return this.model.name?this.model.name+"模型信息":"新建模型"}},mounted:function(){},methods:{handleClose:function(){this.$emit("close"),this.$emit("update:show",!1)},handleSave:function(){var e=this;this.loading=!0,r({id:this.model.id,name:this.model.name,state:this.model.state,levelId:this.model.levelId,path:this.model.path}).then((function(){e.$message.success("操作成功！"),e.$emit("changed")})).finally((function(){e.loading=!1}))}}},p=u,m=l("2877"),h=Object(m["a"])(p,d,c,!1,null,"725662eb",null),f=h.exports,b={name:"AiModelsIndex",components:{AiTable:o["a"],Edit:f},data:function(){return{tableActions:[],tableColumns:[{label:"#",prop:"id",width:55},{label:"平台名称",prop:"platformName"},{label:"模型名称",prop:"name"},{label:"path",prop:"path"},{label:"计费方式",slot:"levelId",width:85},{label:"状态",slot:"state",width:65},{label:"创建时间",prop:"createTime",width:135}],tableActionColumn:{width:170},tableData:[],pagination:{total:0,showDetail:!1},showEdit:!1,editModel:{id:null,name:null,platformId:null,platformName:null,state:null,level:null,levelId:null,path:null,createTime:null},loading:!1}},computed:{},mounted:function(){this.reload()},methods:{reload:function(){var e=this;s().then((function(t){console.log("resp",t);var l=t.data||[];e.tableData=l.map((function(e){return{id:e.id,name:e.name,platformId:e.platformId,platformName:e.platformName,state:e.state,level:e.level,levelId:e.levelId,path:e.path,createTime:e.createTime}})),e.pagination.total=e.tableData.length}))},handleRefresh:function(){this.reload()},handleCreate:function(){this.$message.warning("开发中……")},handleEdit:function(e){this.editModel.id=e.id,this.editModel.name=e.name,this.editModel.platformId=e.platformId,this.editModel.platformName=e.platformName,this.editModel.level=e.level,this.editModel.levelId=e.levelId,this.editModel.state=e.state,this.editModel.path=e.path,this.editModel.createTime=e.createTime,this.showEdit=!0},handleCloseEdit:function(){this.showEdit=!1},handleChanged:function(){this.reload()},handleDelete:function(e){console.log("delete",e)},toggleEnable:function(e){var t=this;this.loading=!0,this.$message.info("处理中……"),r({id:e.id,name:e.name,state:1===e.state?2:1,levelId:e.levelId,path:e.path}).then((function(){t.$message.success("操作成功！"),t.reload()})).finally((function(){t.loading=!1}))},getStateName:function(e){return{1:"启用",2:"禁用"}[e]||"未知"},getLevelText:function(e){return{1:"普通聊天",2:"高级聊天",3:"tokens",4:"绘画"}[e]||"未知"}}},g=b,v=(l("3682"),Object(m["a"])(g,a,n,!1,null,"24f3d2da",null));t["default"]=v.exports},b380:function(e,t,l){},f4f7:function(e,t,l){"use strict";var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"comp-container"},[l("div",{staticClass:"filter-container"},[e._t("filter")],2),l("div",{staticClass:"table-container",staticStyle:{padding:"20px"}},[l("div",{staticClass:"operation-container",staticStyle:{"margin-bottom":"10px","padding-left":"10px"}},[l("el-button",{attrs:{icon:"el-icon-refresh",circle:""},on:{click:e.handleClickRefreshButton}}),e._t("topActions")],2),e._t("header"),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:""},on:{"row-click":e.handleRowClick,"selection-change":e.handleSelectionChange}},[l("el-table-column",{attrs:{type:"selection",width:"55"}}),e._t("leftColumns"),e._l(e.tableColumns,(function(t){return l("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,width:t.width,type:t.type,"show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(l){return e._t(t.slot,[e._v(" "+e._s(l.row[t.prop])+" ")],{row:l.row})}}],null,!0)})})),e._t("columns"),e.tableActions?l("el-table-column",{attrs:{label:"操作",width:e.tableActionColumn?e.tableActionColumn.width:0},scopedSlots:e._u([{key:"default",fn:function(t){return e._t("rowActions",null,{row:t.row})}}],null,!0)},e._l(e.tableActions,(function(t){return l("el-button",{key:t.key,attrs:{type:t.type}},[e._v(" "+e._s(t.label)+" ")])})),1):e._e()],2),l("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{"current-page":e.pagination.pageNum,"page-sizes":[20,200,500],"page-size":e.pagination.pageSize,layout:e.paginationLayout,total:e.pagination.total||0},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],2)])},n=[],o={name:"AiTable",components:{},props:{tableActions:{type:[Array,Boolean],default:function(){return[]}},tableColumns:{type:Array,default:function(){return[]}},tableActionColumn:{type:Object,default:function(){}},tableData:{type:Array,default:function(){return[]}},pagination:{type:Object,default:function(){}},loading:{type:Boolean,default:!1}},data:function(){return{currentPage:1}},computed:{paginationLayout:function(){if(!this.pagination)return"";var e=this.pagination.showDetail;return!1===e?"total":"total, sizes, prev, pager, next, jumper"}},created:function(){},methods:{handleSizeChange:function(e){this.$emit("pageSizeChanged",e)},handleCurrentChange:function(e){this.$emit("pageCurrentChanged",e)},handleRowClick:function(e){this.$refs.multipleTable.toggleRowSelection(e)},handleSelectionChange:function(){},handleClickRefreshButton:function(){this.$emit("refresh")}}},i=o,s=(l("757a"),l("2877")),r=Object(s["a"])(i,a,n,!1,null,"61d77082",null);t["a"]=r.exports}}]);